(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["jitsi-meet-vue2-sdk"]=t():e["jitsi-meet-vue2-sdk"]=t()})("undefined"!==typeof self?self:this,(function(){return function(){"use strict";var e={};!function(){e.d=function(t,n){for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})}}(),function(){e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){e.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){e.p=""}();var t={};if(e.r(t),e.d(t,{default:function(){return _}}),"undefined"!==typeof window){var n=window.document.currentScript,i=n&&n.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);i&&(e.p=i[1])}var o=function(){var e=this,t=e._self._c;return t("div",[e.loading||!e.apiRef?e._t("spinner"):e._e(),t("div",{key:e.componentId,ref:"meetingRef",attrs:{id:e.componentId}})],2)},r=[];const a="meet.jit.si";let s=0;const d=e=>`${e}-${s++}`,f=async e=>new Promise(((e,t)=>{if(window.JitsiMeetExternalAPI)return e(window.JitsiMeetExternalAPI);const n=document.createElement("script");n.async=!0,n.src="/external_api.js",n.onload=()=>e(window.JitsiMeetExternalAPI),n.onerror=()=>t(new Error(`Script load error: ${n.src}`)),document.head.appendChild(n)}));let c;const p=(e=a)=>c||(c=f(e),c);var u={name:"JitsiMeeting",props:{domain:{type:String,default:a},roomName:{type:String,default:""},width:{type:[String,Number],default:600},height:{type:[String,Number],default:400},configOverwrite:{type:Object,default:()=>({})},interfaceConfigOverwrite:{type:Object,default:()=>({})},jwt:{type:String,default:""},invitees:{type:Array,default:()=>[]},devices:{type:Object,default:()=>({})},userInfo:{type:Object,default:()=>({})},lang:{type:String,default:"zhCN"}},data(){return{externalApi:{},apiLoaded:!1,loading:!1,apiRef:""}},computed:{componentId(){return d("jitsiMeeting")}},created(){},mounted(){p(this.domain).then((async e=>{this.externalApi=e,this.apiLoaded=!0,await this.$nextTick(),this.loadIframe(this.externalApi)})).catch((e=>console.error(e.message)))},methods:{loadIframe(e){const{domain:t,roomName:n,width:i,height:o,configOverwrite:r,interfaceConfigOverwrite:a,jwt:s,invitees:d,devices:f,userInfo:c,parentNode:p=this.$refs.meetingRef,lang:u}=this;this.apiRef=new e(t,{roomName:n,width:i,height:o,configOverwrite:r,interfaceConfigOverwrite:a,jwt:s,invitees:d,devices:f,userInfo:c,parentNode:p,lang:u}),this.loading=!1,this.apiRef&&(this.$emit("onApiReady",this.apiRef),this.apiRef.on("readyToClose",(()=>{this.$emit("onReadyToClose")})),this.apiRef.on("videoConferenceJoined",(e=>{this.$emit("videoConferenceJoined")})),this.$refs.meetingRef&&this.$emit("getIframeRefOnApiReady",this.$refs.meetingRef))}}},l=u;function m(e,t,n,i,o,r,a,s){var d,f="function"===typeof e?e.options:e;if(t&&(f.render=t,f.staticRenderFns=n,f._compiled=!0),i&&(f.functional=!0),r&&(f._scopeId="data-v-"+r),a?(d=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},f._ssrRegister=d):o&&(d=s?function(){o.call(this,(f.functional?this.parent:this).$root.$options.shadowRoot)}:o),d)if(f.functional){f._injectStyles=d;var c=f.render;f.render=function(e,t){return d.call(t),c(e,t)}}else{var p=f.beforeCreate;f.beforeCreate=p?[].concat(p,d):[d]}return{exports:e,options:f}}var h=m(l,o,r,!1,null,"1ec87963",null),g=h.exports;g.install=function(e){e.component(g.name,g)};var v=g;const y=function(e,t={}){e.component(v.name,v)};var w={install:y,JitsiMeeting:v},_=w;return t}()}));
//# sourceMappingURL=jitsi-meet-vue2-sdk.umd.min.js.map